{% extends "legal/base_legal.html" %}
{% load i18n static %}

{% block page-title %}Contact Us{% endblock %}
{% block og-title %}Contact Us{% endblock %}

{% block extra-head %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "Contact NekoTab",
  "description": "Get in touch with the NekoTab team for support, feedback, or partnership enquiries.",
  "url": "{{ canonical_url }}"
}
</script>
{% endblock %}

{% block legal-title %}Contact{% endblock %}
{% block legal-heading %}Contact Us{% endblock %}

{% block legal-body %}
{% if message_sent %}
<div class="alert alert-success" role="alert">
  <strong>Message sent!</strong> Thank you for reaching out. We'll get back to you within 2–3 business days.
</div>
{% endif %}

<section class="mb-4">
  <p>
    We're here to help. Whether you have a question about using NekoTab, need technical support,
    or want to discuss a partnership — reach out and we'll respond as soon as we can.
  </p>
</section>

<section class="mb-4">
  <h2>Email</h2>
  <p>
    <a href="mailto:support@nekotab.app">support@nekotab.app</a><br>
    <small class="text-muted">We typically respond within 2–3 business days.</small>
  </p>
</section>

<section class="mb-5">
  <h2>Send a Message</h2>
  <form method="post" action="{% url 'content:contact' %}" class="mt-3" novalidate>
    {% csrf_token %}

    {# Honeypot — hidden from humans, visible to bots #}
    <div style="position:absolute;left:-9999px;" aria-hidden="true">
      <label for="id_website">Leave this empty</label>
      <input type="text" name="website" id="id_website" tabindex="-1" autocomplete="off">
    </div>
    <input type="hidden" name="form_loaded_at" value="{{ form.form_loaded_at.value }}">

    <div class="form-group">
      <label for="id_name">Name <span class="text-danger">*</span></label>
      <input type="text" class="form-control{% if form.name.errors %} is-invalid{% endif %}"
             id="id_name" name="name" value="{{ form.name.value|default:'' }}" required maxlength="100">
      {% if form.name.errors %}
      <div class="invalid-feedback">{{ form.name.errors.0 }}</div>
      {% endif %}
    </div>

    <div class="form-group">
      <label for="id_email">Email <span class="text-danger">*</span></label>
      <input type="email" class="form-control{% if form.email.errors %} is-invalid{% endif %}"
             id="id_email" name="email" value="{{ form.email.value|default:'' }}" required>
      {% if form.email.errors %}
      <div class="invalid-feedback">{{ form.email.errors.0 }}</div>
      {% endif %}
    </div>

    <div class="form-group">
      <label for="id_subject">Subject <span class="text-danger">*</span></label>
      <input type="text" class="form-control{% if form.subject.errors %} is-invalid{% endif %}"
             id="id_subject" name="subject" value="{{ form.subject.value|default:'' }}" required maxlength="200">
      {% if form.subject.errors %}
      <div class="invalid-feedback">{{ form.subject.errors.0 }}</div>
      {% endif %}
    </div>

    <div class="form-group">
      <label for="id_message">Message <span class="text-danger">*</span></label>
      <textarea class="form-control{% if form.message.errors %} is-invalid{% endif %}"
                id="id_message" name="message" rows="5" required maxlength="5000">{{ form.message.value|default:'' }}</textarea>
      {% if form.message.errors %}
      <div class="invalid-feedback">{{ form.message.errors.0 }}</div>
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">Send Message</button>
  </form>
</section>

<section class="mb-4">
  <h2>Response Times</h2>
  <table class="table table-sm">
    <tbody>
      <tr><td><strong>General enquiries</strong></td><td>2–3 business days</td></tr>
      <tr><td><strong>Technical support</strong></td><td>1–2 business days</td></tr>
      <tr><td><strong>Bug reports</strong></td><td>We triage within 24 hours</td></tr>
      <tr><td><strong>Partnerships</strong></td><td>3–5 business days</td></tr>
    </tbody>
  </table>
</section>
{% endblock %}
