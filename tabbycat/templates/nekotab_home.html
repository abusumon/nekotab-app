{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NekoTab â€” Debate Tabulation Made Simple</title>
  <meta name="description" content="Run debate tournaments with confidence. Draws, allocations, ballots, standings, and breaks â€” all in one openâ€‘source tool.">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'logo.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'logo.png' %}">
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'logo.png' %}">
  <link rel="stylesheet" href="{% static 'css/landing.css' %}">
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4135779137186219" crossorigin="anonymous"></script>
</head>
<body class="em-body">

  <!-- ==================== NAVBAR ==================== -->
  <header class="em-navbar" id="top">
    <div class="em-container em-nav-inner">
      <a class="em-logo" href="/">
        <picture>
          <img src="{% static 'logo.png' %}" alt="NekoTab" class="em-logo-img" width="160" height="40">
        </picture>
      </a>
      <nav class="em-nav" aria-label="Primary">
        <a href="#features">Features</a>
        <a href="#how-it-works">How It Works</a>
        <a href="#formats">Formats</a>
        <a href="#faq">FAQ</a>
        <a href="{% url 'tournament-create' %}" class="em-btn em-btn--primary em-btn--sm">Create Tournament</a>
        {% if user.is_authenticated %}
          <form action="{% url 'logout' %}" method="post" style="display:inline-block; margin-left:8px;">
            {% csrf_token %}
            <button type="submit" class="em-btn em-btn--ghost" aria-label="Logout">Logout</button>
          </form>
        {% else %}
          <a href="{% url 'login' %}" class="em-btn em-btn--ghost">Login</a>
          <a href="{% url 'signup' %}" class="em-btn em-btn--secondary em-btn--sm">Sign Up</a>
        {% endif %}
        <button class="em-burger" id="em-burger" aria-label="Open menu" aria-expanded="false" aria-controls="em-mobile-menu">
          <span></span><span></span><span></span>
        </button>
      </nav>
    </div>
    <!-- Mobile Menu -->
    <div id="em-mobile-menu" class="em-mobile-menu" hidden>
      <a href="#features">Features</a>
      <a href="#how-it-works">How It Works</a>
      <a href="#formats">Formats</a>
      <a href="#faq">FAQ</a>
      <a href="{% url 'tournament-create' %}" class="em-btn em-btn--primary em-btn--block">Create Tournament</a>
      {% if user.is_authenticated %}
        <form action="{% url 'logout' %}" method="post" style="margin-top:12px;">
          {% csrf_token %}
          <button type="submit" class="em-btn em-btn--ghost em-btn--block" aria-label="Logout">Logout</button>
        </form>
      {% else %}
        <a href="{% url 'login' %}" class="em-btn em-btn--ghost em-btn--block">Login</a>
        <a href="{% url 'signup' %}" class="em-btn em-btn--secondary em-btn--block">Sign Up</a>
      {% endif %}
    </div>
  </header>

  <!-- ==================== HERO ==================== -->
  <section class="em-hero" aria-labelledby="hero-title">
    <div class="em-container em-hero-inner">
      <div class="em-badge" aria-label="Open source">
        <span class="em-badge-dot"></span>
        Openâ€‘source &middot; Free to self-host
      </div>
      <h1 id="hero-title" class="em-hero-title">
        Debate tabulation,<br><span class="em-gradient-text">fully automated</span>
      </h1>
      <p class="em-hero-sub">Generate fair draws, allocate judges, enter ballots, compute standings, and manage breaks â€” all from one powerful platform built for BP, Australs, and WSDC formats.</p>
      <div class="em-hero-ctas">
        <a href="{% url 'tournament-create' %}" class="em-btn em-btn--primary em-btn--lg">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="vertical-align:middle;margin-right:8px;"><path d="M12 5v14M5 12h14"/></svg>
          Create a Tournament
        </a>
        <a href="https://tabbycat.readthedocs.io/" target="_blank" rel="noopener" class="em-btn em-btn--outline em-btn--lg">Read the Docs â†’</a>
      </div>
      <!-- Dashboard Preview Mockup -->
      <div class="em-hero-visual">
        <div class="em-browser-frame">
          <div class="em-browser-dots">
            <span></span><span></span><span></span>
          </div>
          <div class="em-browser-content">
            <img src="https://placehold.co/900x500/EEF2FF/6366F1?text=NekoTab+Dashboard&font=inter" alt="NekoTab Dashboard Preview" loading="lazy">
          </div>
        </div>
      </div>
    </div>
    <!-- Decorative blobs -->
    <div class="em-hero-blob em-hero-blob--1"></div>
    <div class="em-hero-blob em-hero-blob--2"></div>
  </section>

  <!-- ==================== AD BANNER 1 ==================== -->
  <section class="em-ad-section">
    <div class="em-container">
      <ins class="adsbygoogle em-ad-banner"
           style="display:block"
           data-ad-client="ca-pub-4135779137186219"
           data-ad-slot="auto"
           data-ad-format="horizontal"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </section>

  <!-- ==================== TRUSTED BY (social proof) ==================== -->
  <section class="em-section em-trust" aria-label="Trusted by debate communities">
    <div class="em-container">
      <p class="em-trust-label">Trusted by debate communities worldwide</p>
      <div class="em-trust-logos">
        <div class="em-trust-item">ğŸ›ï¸ University Societies</div>
        <div class="em-trust-item">ğŸŒ National Circuits</div>
        <div class="em-trust-item">ğŸ† International Tournaments</div>
        <div class="em-trust-item">ğŸ“š School Leagues</div>
      </div>
    </div>
  </section>

  <!-- ==================== MY TOURNAMENTS ==================== -->
  {% if user.is_authenticated %}
  <section class="em-section em-my-tournaments" aria-labelledby="my-tournaments-title">
    <div class="em-container">
      <div class="em-section-header">
        <h2 id="my-tournaments-title" class="em-section-title em-section-title--left">My Tournaments</h2>
        <a href="{% url 'tournament-create' %}" class="em-btn em-btn--primary em-btn--sm">+ New Tournament</a>
      </div>
      {% if my_tournaments_active or my_tournaments_inactive %}
        <div class="em-tournament-grid">
          {% for t in my_tournaments_active %}
            <article class="em-tournament-card em-tournament-card--active">
              <div class="em-tournament-status"><span class="em-status-dot em-status-dot--active"></span> Active</div>
              <h3 class="em-tournament-name">{{ t.short_name|default:t.name }}</h3>
              <div class="em-tournament-actions">
                <a href="/{{ t.slug }}/" class="em-btn em-btn--ghost em-btn--xs">Public Site</a>
                <a href="/{{ t.slug }}/admin/" class="em-btn em-btn--primary em-btn--xs">Admin Panel</a>
              </div>
            </article>
          {% endfor %}
          {% for t in my_tournaments_inactive %}
            <article class="em-tournament-card em-tournament-card--inactive">
              <div class="em-tournament-status"><span class="em-status-dot em-status-dot--inactive"></span> Inactive</div>
              <h3 class="em-tournament-name">{{ t.short_name|default:t.name }}</h3>
              <div class="em-tournament-actions">
                <a href="/{{ t.slug }}/" class="em-btn em-btn--ghost em-btn--xs">Public Site</a>
                <a href="/{{ t.slug }}/admin/" class="em-btn em-btn--ghost em-btn--xs">Admin Panel</a>
              </div>
            </article>
          {% endfor %}
        </div>
      {% else %}
        <div class="em-empty-state">
          <div class="em-empty-icon">ğŸ“‹</div>
          <p>You haven't created any tournaments yet.</p>
          <a href="{% url 'tournament-create' %}" class="em-btn em-btn--primary">Create your first tournament</a>
        </div>
      {% endif %}

      {% if user.is_superuser %}
        {% if unassigned_active or unassigned_inactive %}
          <h3 class="em-subsection-title">Unassigned Tournaments (Admin)</h3>
          <div class="em-tournament-grid">
            {% for t in unassigned_active %}
              <article class="em-tournament-card em-tournament-card--unassigned">
                <div class="em-tournament-status"><span class="em-status-dot em-status-dot--active"></span> Active Â· No Owner</div>
                <h3 class="em-tournament-name">{{ t.short_name|default:t.name }}</h3>
                <div class="em-tournament-actions">
                  <a href="/{{ t.slug }}/" class="em-btn em-btn--ghost em-btn--xs">Public</a>
                  <a href="/{{ t.slug }}/admin/" class="em-btn em-btn--ghost em-btn--xs">Admin</a>
                  <form action="{% url 'tournament-claim' slug=t.slug %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="em-btn em-btn--secondary em-btn--xs">Claim</button>
                  </form>
                </div>
              </article>
            {% endfor %}
            {% for t in unassigned_inactive %}
              <article class="em-tournament-card em-tournament-card--unassigned">
                <div class="em-tournament-status"><span class="em-status-dot em-status-dot--inactive"></span> Inactive Â· No Owner</div>
                <h3 class="em-tournament-name">{{ t.short_name|default:t.name }}</h3>
                <div class="em-tournament-actions">
                  <a href="/{{ t.slug }}/" class="em-btn em-btn--ghost em-btn--xs">Public</a>
                  <form action="{% url 'tournament-claim' slug=t.slug %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="em-btn em-btn--secondary em-btn--xs">Claim</button>
                  </form>
                </div>
              </article>
            {% endfor %}
          </div>
        {% endif %}
      {% endif %}
    </div>
  </section>
  {% endif %}

  <!-- ==================== FEATURES ==================== -->
  <section id="features" class="em-section em-features" aria-labelledby="features-title">
    <div class="em-container">
      <div class="em-section-eyebrow">Features</div>
      <h2 id="features-title" class="em-section-title">Everything you need to run a tournament</h2>
      <p class="em-section-subtitle">From registration to break announcements â€” NekoTab handles it all.</p>
      <div class="em-feature-grid em-feature-grid--3col">
        <article class="em-feature-card">
          <div class="em-feature-icon">ğŸ²</div>
          <h3 class="em-feature-title">Draws &amp; Power-Pairing</h3>
          <p class="em-feature-desc">Generate fair draws with side balancing, pull-ups, and constraints for BP and other formats.</p>
        </article>
        <article class="em-feature-card">
          <div class="em-feature-icon">âš–ï¸</div>
          <h3 class="em-feature-title">Judge Allocation</h3>
          <p class="em-feature-desc">Smart panel assignments considering conflicts, feedback scores, and institutional clashes.</p>
        </article>
        <article class="em-feature-card">
          <div class="em-feature-icon">ğŸ“</div>
          <h3 class="em-feature-title">Ballots &amp; Feedback</h3>
          <p class="em-feature-desc">Digital ballot entry with validation, plus structured adjudicator feedback collection.</p>
        </article>
        <article class="em-feature-card">
          <div class="em-feature-icon">ğŸ“Š</div>
          <h3 class="em-feature-title">Standings &amp; Breaks</h3>
          <p class="em-feature-desc">Real-time speaker and team standings with configurable tie-breaking and break categories.</p>
        </article>
        <article class="em-feature-card">
          <div class="em-feature-icon">âœ…</div>
          <h3 class="em-feature-title">Registration &amp; Check-ins</h3>
          <p class="em-feature-desc">Manage teams, speakers, and judges. Track availability and attendance with QR codes.</p>
        </article>
        <article class="em-feature-card">
          <div class="em-feature-icon">ğŸŒ</div>
          <h3 class="em-feature-title">Public Site</h3>
          <p class="em-feature-desc">Share draws, results, motions, and notifications. Private URLs for participants.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- ==================== COMPARISON ==================== -->
  <section class="em-section em-compare" aria-labelledby="compare-title">
    <div class="em-container">
      <h2 id="compare-title" class="em-section-title">Your tabbing challenges, solved</h2>
      <div class="em-compare-grid">
        <div class="em-card em-card--danger">
          <div class="em-card-header">
            <span class="em-card-emoji">ğŸ˜°</span>
            <h3>Spreadsheets &amp; Stress</h3>
          </div>
          <ul>
            <li>Manual power-pairing and rooming</li>
            <li>Judge and venue conflicts missed</li>
            <li>Slow result entry and human errors</li>
            <li>No public draw release</li>
          </ul>
        </div>
        <div class="em-card em-card--indigo">
          <div class="em-card-header">
            <span class="em-card-emoji">ğŸš€</span>
            <h3>NekoTab</h3>
          </div>
          <ul>
            <li>Automated draws and smart allocations</li>
            <li>Conflict detection built in</li>
            <li>Digital ballots with validation</li>
            <li>Public site, check-ins, and notifications</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ==================== AD BANNER 2 ==================== -->
  <section class="em-ad-section">
    <div class="em-container">
      <ins class="adsbygoogle em-ad-banner"
           style="display:block"
           data-ad-client="ca-pub-4135779137186219"
           data-ad-slot="auto"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </section>

  <!-- ==================== HOW IT WORKS ==================== -->
  <section id="how-it-works" class="em-section em-steps-section">
    <div class="em-container">
      <div class="em-section-eyebrow">How It Works</div>
      <h2 class="em-section-title">Getting started takes 3 minutes</h2>
      <div class="em-steps-grid">
        <div class="em-step">
          <div class="em-step-num">1</div>
          <h3>Create an Account</h3>
          <p>Sign up with just a username and password. No verification required.</p>
        </div>
        <div class="em-step-connector"></div>
        <div class="em-step">
          <div class="em-step-num">2</div>
          <h3>Set Up Your Tournament</h3>
          <p>Name it, pick a format preset, and import your teams, judges, and venues.</p>
        </div>
        <div class="em-step-connector"></div>
        <div class="em-step">
          <div class="em-step-num">3</div>
          <h3>Run &amp; Publish</h3>
          <p>Generate draws, enter ballots, and share results on a public site â€” all automated.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ==================== STATS STRIP ==================== -->
  <section class="em-section em-stats" aria-label="Key principles">
    <div class="em-container em-stats-inner">
      <div class="em-stat">
        <div class="em-stat-icon">ğŸ”“</div>
        <div class="em-stat-text">Openâ€‘source</div>
      </div>
      <div class="em-stat">
        <div class="em-stat-icon">âš¡</div>
        <div class="em-stat-text">Lightning fast</div>
      </div>
      <div class="em-stat">
        <div class="em-stat-icon">ğŸ›¡ï¸</div>
        <div class="em-stat-text">Reliable &amp; secure</div>
      </div>
      <div class="em-stat">
        <div class="em-stat-icon">ğŸ¯</div>
        <div class="em-stat-text">Purpose-built for debate</div>
      </div>
    </div>
  </section>

  <!-- ==================== FORMATS ==================== -->
  <section class="em-section em-cats" id="formats">
    <div class="em-container">
      <div class="em-section-eyebrow">Formats</div>
      <h2 class="em-section-title">Built for every debate style</h2>
      <div class="em-cats-grid">
        <div class="em-cat em-cat--bp">
          <div class="em-cat-overlay"></div>
          <div class="em-cat-content">
            <div class="em-cat-icon">ğŸ‡¬ğŸ‡§</div>
            <div class="em-cat-title">British Parliamentary (BP)</div>
            <p class="em-cat-desc">4-team format with opening and closing halves</p>
          </div>
        </div>
        <div class="em-cat em-cat--australs">
          <div class="em-cat-overlay"></div>
          <div class="em-cat-content">
            <div class="em-cat-icon">ğŸ‡¦ğŸ‡º</div>
            <div class="em-cat-title">Australs / 3v3</div>
            <p class="em-cat-desc">Two-team format with 3 speakers per side</p>
          </div>
        </div>
        <div class="em-cat em-cat--wsdc">
          <div class="em-cat-overlay"></div>
          <div class="em-cat-content">
            <div class="em-cat-icon">ğŸŒ</div>
            <div class="em-cat-title">WSDCâ€‘style</div>
            <p class="em-cat-desc">World Schools format with reply speeches</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ==================== AD BANNER 3 ==================== -->
  <section class="em-ad-section">
    <div class="em-container">
      <ins class="adsbygoogle em-ad-banner"
           style="display:block"
           data-ad-client="ca-pub-4135779137186219"
           data-ad-slot="auto"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </section>

  <!-- ==================== FAQ ==================== -->
  <section id="faq" class="em-section em-faq">
    <div class="em-container em-faq-container">
      <div class="em-section-eyebrow">FAQ</div>
      <h2 class="em-section-title">Frequently asked questions</h2>
      <div class="em-faq-list">
        <details class="em-acc">
          <summary>Which formats does NekoTab support?</summary>
          <p>British Parliamentary (BP), Australs/3v3, WSDCâ€‘style, and other parliamentary formats. You can configure speaker counts, sides, and scoring to match your needs.</p>
        </details>
        <details class="em-acc">
          <summary>Can I import teams, judges, and venues?</summary>
          <p>Yes â€” CSV imports are fully supported. You can also manage availability, conflicts, and institutional clashes from the admin panel.</p>
        </details>
        <details class="em-acc">
          <summary>Is it free to use?</summary>
          <p>NekoTab is openâ€‘source and free to self-host. You can also use our hosted service for a simple one-time fee.</p>
        </details>
        <details class="em-acc">
          <summary>How do I create a tournament?</summary>
          <p>Just sign up, click "Create Tournament", fill in a name and number of rounds, and you're ready to go. No approval or verification needed.</p>
        </details>
        <details class="em-acc">
          <summary>Can participants submit their own ballots?</summary>
          <p>Yes â€” you can enable public ballot submission or use private URLs sent to participants for secure, individual access.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- ==================== FINAL CTA ==================== -->
  <section class="em-section em-final">
    <div class="em-container">
      <h2 class="em-final-title">Ready to run your next tournament?</h2>
      <p class="em-final-sub">Sign up for free and create your first event in under 3 minutes.</p>
      <div class="em-hero-ctas">
        <a href="{% url 'tournament-create' %}" class="em-btn em-btn--light em-btn--lg">
          Create a Tournament
        </a>
        <a href="{% url 'signup' %}" class="em-btn em-btn--outline-light em-btn--lg">Sign Up Free</a>
      </div>
    </div>
  </section>

  <!-- ==================== FOOTER ==================== -->
  <footer class="em-footer" role="contentinfo">
    <div class="em-container em-footer-grid">
      <div>
        <a href="/" class="em-logo em-logo--footer">
          <img src="{% static 'logo.png' %}" alt="NekoTab" class="em-logo-img">
        </a>
        <p class="em-foot-desc">Open-source debate tabulation: draws, allocations, ballots, standings, and breaks â€” all in one place.</p>
      </div>
      <div>
        <div class="em-foot-title">Product</div>
        <ul class="em-foot-links">
          <li><a href="#features">Features</a></li>
          <li><a href="#formats">Formats</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="/api">API</a></li>
        </ul>
      </div>
      <div>
        <div class="em-foot-title">Resources</div>
        <ul class="em-foot-links">
          <li><a href="https://tabbycat.readthedocs.io/" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://github.com/abusumon/nekotab-app" target="_blank" rel="noopener">GitHub</a></li>
          <li><a href="/create/">Create Tournament</a></li>
        </ul>
      </div>
      <div>
        <div class="em-foot-title">Account</div>
        <ul class="em-foot-links">
          {% if user.is_authenticated %}
            <li><a href="/">Dashboard</a></li>
            <li><a href="/create/">New Tournament</a></li>
          {% else %}
            <li><a href="{% url 'login' %}">Login</a></li>
            <li><a href="{% url 'signup' %}">Sign Up</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
    <div class="em-foot-bottom">
      <div class="em-container">
        <div class="em-copy">Â© <span id="em-year"></span> NekoTab Â· Built with â¤ï¸ for the debate community</div>
      </div>
    </div>
  </footer>

  <script src="{% static 'js/landing.js' %}"></script>
</body>
</html>
